<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">

  <title>Niranjan Kumar | Automatic Eye Dropper</title>
  <meta name="description" content="PhD Student @ GeorgiaTech
">

  

  <link rel="shortcut icon" href="https://kniranjankumar.github.io/assets/img/favicon.ico">

  <link rel="stylesheet" href="https://kniranjankumar.github.io/assets/css/main.css">
  <link rel="canonical" href="https://kniranjankumar.github.io/projects/4_eye_dropper/">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    
    <span class="site-title">
        
        <strong>Niranjan</strong> Kumar
    </span>
    

    <nav class="site-nav">
      <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

      <div class="trigger">
        <!-- About -->
        <a class="page-link" href="https://kniranjankumar.github.io/">about</a>

        <!-- Blog -->
        <a class="page-link" href="https://kniranjankumar.github.io/blog/">blog</a>

        <!-- Pages -->
        
          
        
          
        
          
        
          
            <a class="page-link" href="https://kniranjankumar.github.io/projects/">projects</a>
          
        
          
            <a class="page-link" href="https://kniranjankumar.github.io/publications/">publications</a>
          
        
          
            <a class="page-link" href="https://kniranjankumar.github.io/teaching/">teaching</a>
          
        
          
        

        <!-- CV link -->
        <!-- <a class="page-link" href="https://kniranjankumar.github.io/assets/pdf/CV.pdf">vitae</a> -->

      </div>
    </nav>

  </div>

</header>



    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Automatic Eye Dropper</h1>
    <h5 class="post-description"></h5>
  </header>

  <article class="post-content Automatic Eye Dropper clearfix">
    <p>About 3 million Americans have glaucoma and a significant portion of them are the elderly who need help to take their eye drop medication. We design an automated eye-dropper that detects the patients eye, adminsters the eye drop and registers if the adminstration was successful. We modify a head-mounted display for this purpose and add an onboard computer that deals with the control processes.</p>
<div class="img_row">
    <img class="col two left" src="/assets/img/eye_dropper_thumbnail.png" alt="" title="eye1" />
    <img class="col one left" src="/assets/img/eye_dropper_side.png" alt="" title="eye1" />
</div>
<div class="col three caption">
    Open-Box cardboard prototype of our device. Top-view of the eye from the device(Left) Camera looks at the eye from the side(Right)</div>
<h3>Eye Region Detection</h3>
<p><br />
To detect the patientâ€™s eye record a clip of the patient moving their eye. Because of the controlled nature of our setup we can compute the variance of the sequence of images and segment out the eye region. The variance can be color thresholded to give us a segmentation of the eye region. An example of the mean and variance is shown in the figure below.</p>

<div class="img_col">
    <img class="row three left" src="/assets/img/mean_eye.png" alt="" title="Mean of frames" />
    <img class="row three right" src="/assets/img/variance_eye.png" alt="" title="Variance of frames" />
</div>
<div class="col three caption">
    Mean of the image sequence we get from the camera(Top). Variance of the image sequence(Bottom)</div>

<div class="img_row">
    <img class="col one left" src="/assets/img/eye1.png" alt="" title="eye1" />
    <img class="col one left" src="/assets/img/eye2.png" alt="" title="eye2" />
    <img class="col one left" src="/assets/img/eye3.png" alt="" title="eye3" />
</div>
<div class="col three caption">
    Example cropped eye region images</div>
<h3>Blink Detection</h3>
<p><br />
We want to detect eye blinks of the patient so that we can plan when to administer the eye drop and know if it was successfully delivered. To detect blinks we collect videos from 25 patients with three different eye colors at three different illumination conditions. We have a total of 75 videos each 200 frames long. We automatically annotate the frames(as open/close) by asking the participants to actively open or close their eyes and synchronizing the commands with the realtime video sequence. We crop out the eye region and train a classifier to classify each frame as open or close. We train this classifier using the annotated videos we collected and successfully detect blinks.</p>
<h3>Eye drop tracker</h3>
<p><br />
To control when and how much eye drops will be dispensed we design a motorized setup that can be controlled by the on-board computer. We 3D print the device and fix it on the head mounded device. We position the illumination such that the light from the LEDs gets total internally reflected and enters the camera. This illuminates the drop making it look as a bright white streak in the image. If we fit a line to this image using Hough Transform we get the trajectory of the water drop as shown in the figure below.</p>
<div class="img_row">
    <img class="col three left" src="/assets/img/waterdrop_hough.png" alt="" title="hough Lines" />
</div>
<div class="col three caption">
    Trajectory of a water drop detected using Hough Line detection</div>


  </article>

  

  

</div>

      </div>
    </div>

    <footer>

  <div class="wrapper">
    &copy; Copyright 2020 Niranjan Kumar.
    Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank">Unsplash</a>.

    
  </div>

</footer>


    <!-- Load jQuery -->
<script src="//code.jquery.com/jquery-1.12.4.min.js"></script>

<!-- Load Common JS -->
<script src="https://kniranjankumar.github.io/assets/js/common.js"></script>


<!-- Load KaTeX -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.js"></script>
<script src="https://kniranjankumar.github.io/assets/js/katex.js"></script>




<!-- Include custom icon fonts -->
<link rel="stylesheet" href="https://kniranjankumar.github.io/assets/css/fontawesome-all.min.css">
<link rel="stylesheet" href="https://kniranjankumar.github.io/assets/css/academicons.min.css">


<!-- Google Analytics -->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-XXXXXXXXX', 'auto');
ga('send', 'pageview');
</script>



  </body>

</html>
